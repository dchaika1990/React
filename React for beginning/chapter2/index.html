<!DOCTYPE html>
<html>
  <head>
    <title>React Chapter 2</title>
    <meta charset="utf-8" http-equiv="Content-Type" content="text/html">
    <script src="js/react/react.min.js"></script>
    <script src="js/react/react-dom.min.js"></script>
    <script src="js/react/browser.min.js"></script>

  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">

    var my_news=[
      {
        author: 'Саша Печкин',
        text: 'В четверг, четвертого числа...'
      },
      {
        author: 'Просто Вася',
        text: 'Считаю, что $ должен стоить 8,16 грн!'
      },
      {
        author: 'Гость',
        text: 'Бесплатно. Скачать. Лучший сайт - ...'
      }
    ];

    var Comments=React.createClass({
      render:function(){
        return(
          <div className="news">
            Нет новостей - комментировать нечего.
          </div>
        );
      }
    });

      var News=React.createClass({
        render:function(){
          var data=this.props.data;
          var newsTemplate=data.map(function(item, index){
            return(
              <div key={index}>
                <p className="news_author">{item.author}:</p>
                <p className="news_text">{item.text}</p>
              </div>
            )
          })

          return(
            <div className="news">
              {newsTemplate}
            </div>
          );
        }
      });

      var App=React.createClass({
        render:function(){
          return(
            <div className="app">
              Всем привет, я компонент App! Я умею отображать новость
            <News data={my_news}/> {/*Добавили свойство data*/}
            <Comments />
            </div>
          )
        }
      });

      ReactDOM.render(
        <App />,
        document.getElementById('root')
      );
    </script>
  </body>
</html>
